<style>

		ul.tabs{
			margin: 0px;
			padding: 0px;
			list-style: none;
			 border-top-right-radius: 1em;
      background: white;
		}
		ul.tabs li{
			background: #999999;
			color: #111111;
			display: inline-block;
			padding: 10px 15px;
			cursor: pointer;
		}

		ul.tabs li.current{
			background: #ededed;
			color: #222;
		}

		.tab-content{
			display: none;
			background: #ffffff;
			padding: 15px;
		}

		.tab-content.current{
			display: inherit;
		}
		.row{
		background-color:black;
		height:auto;
		}
</style>

	<div class='' >
		img
	</div>
<div class="product-container">
asdsaf
</div>	

	<div class="product-container-detail">
	<!-- Tabs Button -->
		<ul class="tabs">
			<li class="tab-link current" data-tab="description">Tab One</li>
			<li class="tab-link" data-tab="tab-2">Tab Two</li>
			<li class="tab-link" data-tab="tab-3">Tab Three</li>
		</ul>
		
	<!-- Tabs Content -->
		<div id="description" class="tab-content current" >
			
		</div>
		<div id="tab-2" class="tab-content">
			 Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
		</div>
		<div id="tab-3" class="tab-content">
			Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
		</div>
		

	</div><!-- container -->

<script src="../../js/webservice.js"></script>

 <script type="text/javascript">
	webService.initialize();
	 /**
		* get parameter product
	    *
		* @param  int  $id, $id_supplier
		* @return vars
	*/
	

	console.log(idProduct);
    /**
	    * Create var product to get details product with @param $id 
	    * @param vars 
		*
	    * @result JSON 
		* console.log(product);
		* declare @return to variable $product
		* console.log(idStock);
		* declared value id stock int $idStock
	*/
	var product = webService.readIdJson('products',idProduct).product;
	console.log(product);
	var idStock = product.associations.stock_availables["0"].id;
	
	/**
        * Create stockAvailables to get stock availables with @param int $idStock
		* @return JSON 
		* declared quantity of product int $qty
		* console.log(qty);
	*/
	var stockAvailables = webService.readIdJson('stock_availables',idStock).stock_available;
    var qty = stockAvailables.quantity;

	
	/**
	    * Validation button cart
		* console.log('stok tidak tersedia');
	*/
	if (qty < 1){
        
		$("#modalAddtoCart").attr("disabled","disabled");
		$("#modalAddtoCart").prepend('<i class="fa fa-exclamation-triangle"></i>Kosong</a> ');
		$("#quantity").prepend('Stok Kosong');
	}else{
		$("#modalAddtoCart").prepend('<i class="fa fa-shopping-cart"></i> Masukan ke keranjang</a> ');
		$("#quantity").prepend(qty);
	}
	
	var idCustomer = localStorage.getItem('idCustomer');
	
	switch (idCustomer) {
		case null:
			$("#modalAddtoCart").attr("href","../Auth/register.html?back=1");
			break; 
		default: 
			$("#modalAddtoCart").attr("data-target","#addtoCart-modal");
	}
 
	/**
		* prepend $result[], $qty, $product to HTML  
		* Get id TagHTML example : <id="productName"> to javascript #productName
		* Get class TagHTML example : <class="productName"> to javascript .productName
	*/
	var bilangan = parseInt(product.price);
					
				var	number_string = bilangan.toString(),
					sisa 	= number_string.length % 3,
					rupiah 	= number_string.substr(0, sisa),
					ribuan 	= number_string.substr(sisa).match(/\d{3}/g);
						
				if (ribuan) {
					separator = sisa ? '.' : '';
					rupiah += separator + ribuan.join('.');
				}
	$("#productName").prepend(product.name);
	$("#idCustomer").prepend(idCustomer);
	$("#description").prepend(product.description);
	$("#stock").prepend( qty )
	$("#our_price_display").prepend( rupiah);
	
	$("#description_short").prepend( product.description_short);
	
	$("#reference").prepend( product.reference);
	
  

	
	
	//$(".imgProduct").attr("src",loadImg);
	$("#our_price_display").attr("content",product.price);

	/**
	    * select product, customer, addresse, currency, languages (default 2 indonesia), currency(default 2 IDR)
	*/
	var idCart = localStorage.getItem('idCart');
			console.log(idCart);

	$( "#modalAddtoCart" ).click(function() {
	$("#qtyProductCart1").prepend( $("#qtyProductCart").val());

		var objectName = 'carts';	
		if (idCart == 0){
			objectData[1][1] = localStorage.getItem('idAddress'); 
			objectData[1][2] = localStorage.getItem('idAddress');
			objectData[1][3] = 2;
			objectData[1][4] = localStorage.getItem('idCustomer');
			objectData[1][6] = 2;
			objectData[1][19] = idProduct;
			objectData[1][22] = $("#qtyProductCart").val();	
			localStorage.setItem('qtyProductCart',objectData[1][22]);
			$("#addtoCart").attr("href","orders.html?step=1");			
			webService.create(objectName); 	
		}
		else{	
			objectData[1][19] = idProduct;
			objectData[1][20] = 0;
			objectData[1][22] = $("#qtyProductCart").val();
			localStorage.setItem('qtyProductCart',objectData[1][22]);
			$("#addtoCart").attr("href","orders.html?step=1");
			webService.updateId(objectName,idCart);
		}

	});
	
	$('ul.tabs li').click(function(){
		var tab_id = $(this).attr('data-tab');

		$('ul.tabs li').removeClass('current');
		$('.tab-content').removeClass('current');

		$(this).addClass('current');
		$("#"+tab_id).addClass('current');
	})

 </script>